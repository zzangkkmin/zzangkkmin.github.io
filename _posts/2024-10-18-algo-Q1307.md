---
layout: post  
title: "백준 Q1307 마방진"  
subtitle: "마방진, 수학 구현"  
categories: algo  
tags: [baekjoon]   
comments: true  
# header-img: img/review/2019-11-22-review-book-pycharm-1.jpg  
---
    
## 문제  
[https://www.acmicpc.net/problem/1307](https://www.acmicpc.net/problem/1307)  
마방진이란 N*N의 격자의 각 칸에 1부터 N*N까지의 정수를 정확히 하나씩 채웠을 때, 모든 가로줄, 세로줄, 대각선의 합이 같은 배치를 말한다.

예를 들면, 다음은 3*3 마방진 중 하나이다. 가로줄, 세로줄, 대각선의 합이 모두 15로 같다는 것을 알 수 있다.

|8|1|6|
|-|-|-|
|3|5|7|
|4|9|2|

N이 주어졌을 때 N*N 마방진을 구해보자

## 입력
첫째 줄에 자연수 N이 주어진다. (3 ≤ N ≤ 300)

## 출력
N*N 마방진을 아무거나 출력한다.

## 풀이
마방진을 만드는 규칙은 N이 홀수일때, 4로 나누어 떨어질 때, 그리고 4로 나누어 나머지가 2일때 각각 다르다. 입력은 3에서 300이라 위 3가지 규칙을 모두를 구현해야 한다. 먼저 홀수 마방진부터 본다.

### 홀수 마방진
아래 과정이 홀수 마방진을 만드는 과정이다.

![Odd](https://zzangkkmin.github.io/assets/img/postImages/2024-10-18-algo-q1307-odd.gif)  

1. 시작은 첫 행, 한 가운데 열에 1을 둔다.
2. 행을 감소, 열을 증가하면서 순차적으로 수를 넣어간다.
3. 행은 감소하므로 첫 행보다 작아지는 경우에는 마지막 행으로 넘어간다.
4. 열은 증가하므로 마지막 열보다 커지는 경우에는 첫 열로 넘어간다.
5. 넣은 수가 n의 배수이면 행만 증가한다. 열은 변화없음.

위 방법으로 3,5,7,... 등 모든 홀수로 된 마방진을 만들 수 있다.

### 4N 마방진
짝수 중 4로 나누어 떨어지는 마방진을 만드는 과정이다.

![4N](https://zzangkkmin.github.io/assets/img/postImages/2024-10-18-algo-q1307-4n.gif)  

1. N * N 정사각형을 위의 도형대로 색으로 구분해준다.
2. 좌측위부터 우측아래까지 가로로 1부터 N*N까지 채운다\
3. 핑크색 부분은 그대로 두고, 파란색 부분은 N*N의 중심과 대칭점인 부분과 숫자를 바꾼다.

![4N](https://zzangkkmin.github.io/assets/img/postImages/2024-10-18-algo-q1307-4n.png)

핑크색 부분과 파란색 부분을 나누어 생각하자면 위의 그림을 합친 그림으로 이해하면 된다.

## 결론
이 문제는 마방진을 만드는 법을 아는가가 제일 큰 문제이다.

